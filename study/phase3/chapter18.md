# 第 18 章：开发 Skill 技能包

**预计学习时间：2 小时**  
**难度：⭐⭐⭐**

---

## 📚 本章目标

- 理解 Skill 在 nanobot 中的定位
- 掌握 Skill 目录结构与 `SKILL.md` 编写规范
- 学会将 Prompt、工具和执行流程组合成可复用能力
- 能够创建一个“服务器巡检 Skill”

---

## 📖 理论学习（30 分钟）

### 1. Skill 的价值

Skill 是一组可复用的任务能力封装，通常包含：

- 领域 Prompt 模板
- 工具调用策略
- 输出格式约束

相比临时对话，Skill 的优势在于一致性和可迁移性。

### 2. Skill 的组织方式

参考目录：`nanobot/skills/`

每个 Skill 通常包含：

- 独立目录（如 `weather/`、`github/`）
- `SKILL.md` 说明文档
- 可选的示例输入/输出

### 3. 编写规范建议

`SKILL.md` 建议包含：

- Skill 目标与适用场景
- 输入约定（用户应提供哪些信息）
- 可用工具和调用顺序建议
- 输出格式（摘要、表格、行动项）

---

## 💻 代码阅读（45 分钟）

### 任务 1：阅读已有 Skill 示例（20 分钟）

阅读：

- `nanobot/skills/summarize/SKILL.md`
- `nanobot/skills/memory/SKILL.md`
- `nanobot/skills/github/SKILL.md`

重点关注：

- 目标定义是否明确
- 工具使用边界是否清晰
- 输出模板是否稳定

### 任务 2：阅读模板资源（15 分钟）

打开：`nanobot/templates/` 下文档（如 `TOOLS.md`、`SOUL.md`）

重点关注：

- 框架如何组织系统指令
- 规范文档如何指导模型行为

### 任务 3：梳理与 Agent 循环关系（10 分钟）

打开：`nanobot/agent/context.py`

重点关注：

- 上下文如何拼装
- Skill 文本如何影响工具选择与最终回复

---

## 🔧 实践操作（45 分钟）

### 练习 1：创建“服务器巡检 Skill”（20 分钟）

目标：在 `nanobot/skills/server-inspect/` 下新增 `SKILL.md`。

要求：

- 定义巡检目标（资源、进程、日志）
- 约定输入参数（主机、时间范围、重点服务）
- 定义输出模板（风险级别 + 建议）

### 练习 2：集成自定义工具（15 分钟）

将第 15 章的系统监控 Tool 纳入 Skill 流程。

要求：

- 给出工具调用前提
- 给出失败回退策略

### 练习 3：对话验证（10 分钟）

通过一次真实对话验证：

- Skill 目标被正确激活
- 输出符合约定格式
- 建议可执行

---

## ✅ 本章检查清单

- [ ] 我能说清 Skill 与普通 Prompt 的区别
- [ ] 我完成了一个可复用 Skill 文档
- [ ] 我将 Skill 与自定义工具串联成功
- [ ] 我完成了至少一次完整巡检演示

---

**学习进度：** [██████████████████░░░] 18/21 章节  
**下一章：** [第 19 章：测试编写与调试技巧](./chapter19.md)
